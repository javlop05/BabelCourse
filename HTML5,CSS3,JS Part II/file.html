<!DOCTYPE html>
<html>

<head>
    <title></title>
</head>

<body>
    <label>
        select file
        <input id="fileInput" type="file">
    </label>
    <img id="image1">
    <img id="image2">
    <div id="display"></div>
    <script>
    var fileInput = document.getElementById('fileInput');
    fileInput.addEventListener('change', function(e) {
        var display = document.getElementById('display');
        var image1 = document.getElementById('image1');
        var image2 = document.getElementById('image2');
        var file = document.getElementById('fileInput').files[0];
        var textType = /image.*/;
        var url = URL.createObjectURL(file);
        console.log('file', url);
        image1.src = url;
        if (file.type.match(textType)) {
            var reader = new FileReader();
            reader.onload = function(e) {
                    display.innerText = reader.result;
                    image2.src = reader.result;
                }
                //reader.readAsText(file); // como texto
            reader.readAsDataURL(file); // devuelve datos en base64
            //reader.readAsBinaryString(file); // datos binarios
        } else {
            display.innerText = "Archivo no soportado!"
        }
    });
    </script>
</body>

</html>
