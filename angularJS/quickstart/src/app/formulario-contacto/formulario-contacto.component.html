<form #contactoForm="ngForm" (ngSubmit)="guardarContacto(contactoForm)" novalidate>

    <div class="row">
        <div class="offset-by-three six columns avatar">
            <img [src]="rutaAvatar" alt="">
        </div>
    </div>

    <!-- Nombre -->
    <div class="row">
        <div class="offset-by-three six columns">
            <div>
                <label for="nombre"> Nombre </label>
                <input type="text" 
                    id="nombre"
                    name="nombre"
                    ngModel
                    #nombreRef="ngModel"
                    placeholder="Ej. Tim"
                    required
                    minlength="3">
                <div *ngIf="nombreRef.touched && nombreRef.errors?.required" 
                    class="mensaje-error">
                    <span> El campo nombre es requerido </span>
                </div>
                <div *ngIf="nombreRef.touched && nombreRef.errors?.minlength" 
                    class="mensaje-error">
                    <span> El campo nombre debe tener al menos {{nombreRef.errors.minlength.requiredLength}} letras </span>
                </div>
            </div>
        </div>
    </div>

    <!-- {{nombreRef.errors | json}} -->

    <!-- Apellidos -->
    <div class="row">
        <div class="offset-by-three six columns">
            <div>
                <label for="apellidos">Apellidos</label>
                <input type="text"
                    id="apellidos"
                    name="apellidos"
                    ngModel
                    #apellidosRef="ngModel"
                    placeholder="Ej. Burton"
                    required
                    minlength="2">
                <div *ngIf="apellidosRef.touched && apellidosRef.errors?.required" 
                    class="mensaje-error">
                    <span> El campo apellidos es requerido </span>
                </div>
                <div *ngIf="apellidosRef.touched && apellidosRef.errors?.minlength" 
                    class="mensaje-error">
                    <span> El campo apellidos debe tener al menos {{apellidosRef.errors.minlength.requiredLength}} letras </span>
                </div>
            </div>
        </div>
    </div>

    <!-- Email -->
    <div class="row">
        <div class="offset-by-three six columns">
            <div>
                <label for="email">Email</label>
                <input type="text"
                    id="email"
                    name="email"
                    ngModel
                    #emailRef="ngModel"
                    placeholder="timburton@example.com"
                    pattern="^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,3})$"
                    required>
                <div *ngIf="emailRef.touched && emailRef.errors?.required" 
                    class="mensaje-error">
                    <span> El campo email es requerido </span>
                </div>
                <div *ngIf="emailRef.touched && emailRef.errors?.pattern" 
                    class="mensaje-error">
                    <span> El email no es válido </span>
                </div>
            </div>
        </div>
    </div>

    <!-- Telefono -->
    <div class="row">
        <div class="offset-by-three six columns">
            <div>
                <label for="telefono">Teléfono</label>
                <input type="text"
                    id="telefono"
                    name="telefono"
                    ngModel
                    #telefonoRef="ngModel"
                    placeholder="1234567890"
                    pattern="^\+?\d{1,3}?[- .]?\(?(?:\d{2,3})\)?[- .]?\d\d\d[- .]?\d\d\d\d$"
                    required>
                <div *ngIf="telefonoRef.touched && telefonoRef.errors?.required" 
                    class="mensaje-error">
                    <span> El campo teléfono es requerido </span>
                </div>
                <div *ngIf="telefonoRef.touched && telefonoRef.errors?.pattern" 
                    class="mensaje-error">
                    <span> El teléfono proporcionado no es válido (introduce + [prefijo de tu pais] </span>
                </div>
            </div>
        </div>
    </div>


    <!-- Facebook -->
    <div class="row">
        <div class="offset-by-three six columns">
            <div>
                <label for="facebook">Facebook</label>
                <input type="text"
                    id="facebook"
                    name="facebook"
                    ngModel
                    #facebookRef="ngModel"
                    placeholder="tim-burton">
            </div>    
        </div>
    </div>

    <!-- Twitter -->
    <div class="row">
        <div class="offset-by-three six columns">
            <div>
                <label for="twitter">Email</label>
                <input type="text"
                    id="twitter"
                    name="twitter"
                    ngModel
                    #twitterRef="ngModel"
                    placeholder="@TimBurton">
            </div>
        </div>
    </div>


    <!-- Guardar contacto -->
    <div class="row">
        <div class="offset-by-three six columns">
            <button type="submit"
                    class="button-primary"
                    [disabled]="contactoForm.invalid">
                    Guardar
            </button>
        </div>
    </div>
</form>